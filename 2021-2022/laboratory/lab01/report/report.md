---
# Front matter
title: "Отчёт по лабораторной работе №1. Работа с git."
subtitle: "Предмет: математическое моделирование"
author: "Александр Сергеевич Баклашов"

# Generic otions
lang: ru-RU
toc-title: "Содержание"

# Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

# References settings
linkReferences: true
nameInLink: true

# Pdf output format
toc: true # Table of contents
toc_depth: 2
lof: true # List of figures
lot: false # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
### Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Misc options
indent: true
header-includes:
  - \linepenalty=10 # the penalty added to the badness of each line within a paragraph (no associated penalty node) Increasing the value makes tex try to have fewer lines in the paragraph.
  - \interlinepenalty=0 # value of the penalty (node) added after each line of a paragraph.
  - \hyphenpenalty=50 # the penalty for line breaking at an automatically inserted hyphen
  - \exhyphenpenalty=50 # the penalty for line breaking at an explicit hyphen
  - \binoppenalty=700 # the penalty for breaking a line at a binary operator
  - \relpenalty=500 # the penalty for breaking a line at a relation
  - \clubpenalty=150 # extra penalty for breaking after first line of a paragraph
  - \widowpenalty=150 # extra penalty for breaking before last line of a paragraph
  - \displaywidowpenalty=50 # extra penalty for breaking before last line before a display math
  - \brokenpenalty=100 # extra penalty for page breaking after a hyphenated line
  - \predisplaypenalty=10000 # penalty for breaking before a display
  - \postdisplaypenalty=0 # penalty for breaking after a display
  - \floatingpenalty = 20000 # penalty for splitting an insertion (can only be split footnote in standard LaTeX)
  - \raggedbottom # or \flushbottom
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Ознакомиться с системой управления версиями git.

# Задание

1. Настроить git для первого использования.
2. Научиться создавать репозитории.
3. Научиться добавлять файлы в репозитории.
4. Научиться делать индексацию и коммит изменений.
5. Научиться просматривать список произведенных изменений.
6. Научиться просматривать предыдущие снимки из репозитория.
7. Научиться работать с тегами.
8. Научиться отменять локальные/проиндексированные изменения, а также отменять коммиты.
9. Научиться удалять коммиты из ветки.
10. Научиться вносить изменения в существующие коммиты
11. Научиться работе с файлами в рамках репозитория
12. Научиться работе с объектами git
13. Научиться работе с ветками (создавать, изменять, слиять, сбрасывать,  переключаться между ними и т.д.)
14. Научиться разрешать возникающие конфликты 
15. Научиться клонировать репозитории
16. Научиться извлекать изменения из удаленного репозитория
17. Научиться создавать чистые репозитории
18. Научиться добавлять удаленные репозитории
19. Научиться извлекать изменения из общего репозитория

# Теоретическое введение

Git — это система управления версиями исходного кода программ. Проект был создан Линусом Торвальдсом для управления разработкой ядра Linux, первая версия выпущена 7 апреля 2005 года. 

Среди проектов, использующих Git — ядро Linux, Swift, Android, Drupal, Cairo, GNU Core Utilities, Mesa, Wine, Chromium, Compiz Fusion, FlightGear, jQuery, PHP, NASM, MediaWiki, DokuWiki, Qt, ряд дистрибутивов Linux.

# Выполнение лабораторной работы

<!--- Описываются проведённые действия, в качестве иллюстрации даётся ссылка на иллюстрацию (рис. [-@fig:001]) 

![Название рисунка](image/placeimg_800_600_tech.jpg){ #fig:001 width=70% } --->

## Подготовка
1. Установка имени и электронной почты
Выполним следующие команды, чтобы git узнал ваше имя и электронную почту (рис. [-@fig:001])

![Name & E-mail](image/1.png){ #fig:001 width=70% }

2. Параметры установки окончаний строк
Настроим core.autocrlf с параметрами true (рис. [-@fig:002])

![core.autocrlf](image/2.png){ #fig:002 width=70% }

3. Установка отображения unicode
Чтобы избежать нечитаемых строк, установим соответствующий флаг (рис. [-@fig:003])

![unicode](image/3.png){ #fig:003 width=70% }

## Создание проекта
1. Создадим страницу «Hello, World» (рис. [-@fig:004])

![«Hello, World»](image/4.png){ #fig:004 width=70% }

2. Создадим git репозиторий из каталога hello (рис. [-@fig:005])

![Создание репозитория](image/5.png){ #fig:005 width=70% }

3. Добавим файл в репозиторий (рис. [-@fig:006])

![Добавление файла в репозиторий](image/6.png){ #fig:006 width=70% }

4. Проверим состояние репозитория 
Используем команду git status, чтобы проверить текущее состояние репозитория (рис. [-@fig:007])

![Проверка состояния репозитория](image/7.png){ #fig:007 width=70% }

## Внесение изменений
1. Изменим страницу «Hello, World» (рис. [-@fig:008])

![Изменение страницы «Hello, World»](image/8.png){ #fig:008 width=70% }

Проверим состояние рабочего каталога (рис. [-@fig:009])

![Проверка состояния рабочего каталога](image/9.png){ #fig:009 width=70% }

## Индексация изменений
1. Выполним команду git, чтобы проиндексировать изменения. Проверим состояние. (рис. [-@fig:010])

![Индексация изменений & проверка состояния](image/10.png){ #fig:010 width=70% }

2. Коммит изменений

Сделаем коммит и проверим состояние (рис. [-@fig:011])

![Сделаем коммит и проверим состояние](image/11.png){ #fig:011 width=70% }

3. Добавим стандартные теги страницы (рис. [-@fig:012])

![Добавим стандартные теги страницы](image/12.png){ #fig:012 width=70% }

Добавим это изменение в индекс git (рис. [-@fig:013])

![Добавим это изменение в индекс git](image/13.png){ #fig:013 width=70% }

Теперь добавим заголовки HTML (секцию head) к странице «Hello, World» (рис. [-@fig:014])

![Добавим заголовки HTML (секцию head) к странице «Hello, World»](image/14.png){ #fig:014 width=70% }

Проверим текущий статус (рис. [-@fig:015])

![Проверим текущий статус](image/15.png){ #fig:015 width=70% }

Произведём коммит проиндексированного изменения, а затем еще раз проверим состояние (рис. [-@fig:016])

![Произведём коммит проиндексированного изменения, а затем проверим состояние](image/16.png){ #fig:016 width=70% }

Добавим второе изменение в индекс, затем проверим состояние с помощью команды git status и сделаем коммит второго изменения (рис. [-@fig:017])

![Добавим второе изменение в индекс, затем проверим состояние и сделаем коммит второго изменения](image/17.png){ #fig:017 width=70% }

3. Получим список произведенных изменений и поэксперементируем с отображением лога (рис. [-@fig:018])

![Получим список произведенных изменений](image/18.png){ #fig:018 width=70% }

4. Получение старых версий (рис. [-@fig:019])

![Получение старых версий](image/19.png){ #fig:019 width=70% }

Используем хэш для первого коммита в команде git checkout. Затем проверим содержимое файла hello.html (рис. [-@fig:020])

![Используем хэш для первого коммита в команде git checkout. Затем проверим содержимое файла hello.html](image/20.png){ #fig:020 width=70% }

Вернёмся к последней версии в ветке master (рис. [-@fig:021])

![Вернёмся к последней версии в ветке master](image/21.png){ #fig:021 width=70% }

5. Создание тегов версий

Создадим тег первой версии (рис. [-@fig:022])

![Создадим тег первой версии](image/22.png){ #fig:022 width=70% }

Создадим тег для версии, которая идет перед текущей версией и назовем его v1-beta (рис. [-@fig:023])

![Создадим тег для версии, которая идет перед текущей версией](image/23.png){ #fig:023 width=70% }

6. Переключение по имени тега

Попробуем попереключаться между двумя отмеченными версиями (рис. [-@fig:024])

![Попереключаемся между двумя отмеченными версиями](image/24.png){ #fig:024 width=70% }

7. Просмотр тегов с помощью команды tag

Просмотрим доступные теги и теги в логе (рис. [-@fig:025])

![Просмотрим доступные теги и теги в логе](image/25.png){ #fig:025 width=70% }

## Отмена локальных изменений (до индексации)

1. Переключимся на ветку master (рис. [-@fig:026])

![Переключимся на ветку master](image/26.png){ #fig:026 width=70% }

2. Изменим hello.html (рис. [-@fig:027])

![Изменим hello.html](image/27.png){ #fig:027 width=70% }

3. Проверим состояние (рис. [-@fig:028])

![Проверим состояние](image/28.png){ #fig:028 width=70% }

4. Отмена изменений в рабочем каталоге

Используем команду git checkout для переключения версии файла hello.html в репозитории (рис. [-@fig:029])

![Используем команду git checkout](image/29.png){ #fig:029 width=70% }

## Отмена проиндексированных изменений (перед коммитом)

1. Изменим файл и проиндексируем изменения

Внесём изменение в файл hello.html в виде нежелательного комментария (рис. [-@fig:030])

![Внесём изменение в файл hello.html (нежелательный комментарий)](image/30.png){ #fig:030 width=70% }

Проиндексируем это изменение (рис. [-@fig:031])

![Проиндексируем внесённое изменение](image/31.png){ #fig:031 width=70% }

2. Проверим состояние (рис. [-@fig:032])

![Проверим состояние](image/32.png){ #fig:032 width=70% }

3. Выполним сброс буферной зоны (рис. [-@fig:033])

![Выполним сброс буферной зоны](image/33.png){ #fig:033 width=70% }

4. Переключимся на версию коммита (рис. [-@fig:034])

![Переключимся на версию коммита](image/34.png){ #fig:034 width=70% }

## Отмена коммитов

1. Изменим файл и сделаем коммит 
Изменим файл, добавив в него комментарий (рис. [-@fig:035])

![Изменим файл](image/35.png){ #fig:035 width=70% }

Сделаем коммит (рис. [-@fig:036])

![Сделаем коммит](image/36.png){ #fig:036 width=70% }

2. Сделаем коммит с новыми изменениями, отменяющими предыдущие (рис. [-@fig:037])

![Сделаем коммит с новыми изменениями](image/37.png){ #fig:037 width=70% }

3. Проверим лог (рис. [-@fig:038])

![Проверим лог](image/38.png){ #fig:038 width=70% }

## Удаление коммиттов из ветки

1. Проверим историю (рис. [-@fig:039])

![Проверим историю](image/39.png){ #fig:039 width=70% }

2. Отметим ветку (рис. [-@fig:040])

![Отметим ветку](image/40.png){ #fig:040 width=70% }

3. Сброс коммитов к предшествующим коммиту Oops (рис. [-@fig:041])

![Сброс коммитов к предшествующим коммиту Oops](image/41.png){ #fig:041 width=70% }

4. Посмотрим на все коммиты (рис. [-@fig:042])

![Просмотр всех коммитов](image/42.png){ #fig:042 width=70% }

## Удаление тега Oops

1. Удалим тег Oops и коммиты, на которые он ссылался, сборщиком мусора. (рис. [-@fig:043])

![Удалим тег Oops и коммиты, на которые он ссылался](image/43.png){ #fig:043 width=70% }

## Внесение изменений в коммиты

1. Изменим страницу, а затем сделаем коммит

Добавим в страницу комментарий автора (рис. [-@fig:044])

![Добавим в страницу комментарий автора](image/44.png){ #fig:044 width=70% }

Сделаем коммит (рис. [-@fig:045])

![Сделаем коммит](image/45.png){ #fig:045 width=70% }

2. Обновим страницу hello, включив в неё email (рис. [-@fig:046])

![Обновим страницу hello](image/46.png){ #fig:046 width=70% }

3. Изменим предыдущий коммит (рис. [-@fig:047])

![Изменим предыдущий коммит](image/47.png){ #fig:047 width=70% }

4. Просмотр истории (рис. [-@fig:048])

![Просмотрим историю](image/48.png){ #fig:048 width=70% }

## Перемещение файлов

1. Переместим файл hello.html в каталог lib (рис. [-@fig:049])

![Переместим файл hello.html в каталог lib](image/49.png){ #fig:049 width=70% }

2. Коммит в новый каталог (рис. [-@fig:050])

![Коммит в новый каталог](image/50.png){ #fig:050 width=70% }

## Подробнее о структуре

1. Добавление index.html

Добавим файл index.html в наш репозиторий (рис. [-@fig:051])

![Добавление index.html](image/51.png){ #fig:051 width=70% }

Добавим файл и сделаем коммит (рис. [-@fig:052])

![Коммит файла index.html](image/52.png){ #fig:052 width=70% }

## Git внутри: Каталог .git

1. Каталог .git (рис. [-@fig:053])

![Каталог .git](image/53.png){ #fig:053 width=70% }

2. База данных объектов (рис. [-@fig:054])

![База данных объектов](image/54.png){ #fig:054 width=70% }

3. Углубляемся в базу данных объектов 

Смотрим в один из каталогов с именем из 2 букв (aa) (рис. [-@fig:055])

![Углубляемся в базу данных объектов](image/55.png){ #fig:055 width=70% }

4. Просмотрим Config File (рис. [-@fig:056])

![Config File](image/56.png){ #fig:056 width=70% }

5. Ветки и теги (рис. [-@fig:057])

![Ветки и теги](image/57.png){ #fig:057 width=70% }

Мы узнали хэш коммита v1

6. Файл HEAD (рис. [-@fig:058])

![Файл HEAD](image/58.png){ #fig:058 width=70% }

## Работа непосредственно с объектами git

1. Поиск последнего коммита (рис. [-@fig:059])

![Поиск последнего коммита](image/59.png){ #fig:059 width=70% }

2. Вывод последнего коммита с помощью SHA1 хэша (рис. [-@fig:060])

![Вывод последнего коммита](image/60.png){ #fig:060 width=70% }

3. Поиск дерева (рис. [-@fig:061])

![Поиск дерева](image/61.png){ #fig:061 width=70% }

4. Вывод каталога lib (рис. [-@fig:062])

![Вывод каталога lib](image/62.png){ #fig:062 width=70% }

5. Вывод файла hello.html (рис. [-@fig:063])

![Вывод файла hello.html](image/63.png){ #fig:063 width=70% }

6. Исследуйте самостоятельно (рис. [-@fig:064])

Мы дошли до оригинального файла hello.html с самого первого коммита вручную по ссылкам SHA1 хэша в последнем коммите с помощью хэша parent'а каждого следующего коммита.

![Дошли до оригинального файла](image/64.png){ #fig:064 width=70% }

## Создание ветки

1. Создадим ветку (рис. [-@fig:065])

![Создадим ветку](image/65.png){ #fig:065 width=70% }

2. Добавим файл стилей style.css (рис. [-@fig:066])

![Добавим файл стилей](image/66.png){ #fig:066 width=70% }

Сделаем коммит этого файла (рис. [-@fig:067])

![Сделаем коммит](image/67.png){ #fig:067 width=70% }

3. Изменим основную страницу (рис. [-@fig:068])

![Изменим основную страницу](image/68.png){ #fig:068 width=70% }

Сделаем коммит этого файла (рис. [-@fig:069])

![Сделаем коммит](image/69.png){ #fig:069 width=70% }

4. Изменим index.html (рис. [-@fig:070])

![Изменим index.html](image/70.png){ #fig:070 width=70% }

Сделаем коммит этого файла (рис. [-@fig:071])

![Сделаем коммит](image/71.png){ #fig:071 width=70% }

## Навигация по веткам

1. Просмотрим историю (рис. [-@fig:072])

![Просмотрим историю](image/72.png){ #fig:072 width=70% }

2. Переключение на ветку master (рис. [-@fig:073])

![Переключение на ветку master](image/73.png){ #fig:073 width=70% }

3. Вернемся к ветке style (рис. [-@fig:074])

![Переключение на ветку master](image/74.png){ #fig:074 width=70% }

## Изменения в ветке master

1. Создадим файл README в ветке master (рис. [-@fig:075])

![Создадим файл README в ветке master](image/75.png){ #fig:075 width=70% }

## Сделаем коммит изменений README.md в ветку master

1. Сделаем коммит изменений README.md в ветку master (рис. [-@fig:076])

![Коммит изменений README.md в ветку master](image/76.png){ #fig:076 width=70% }

2. Просмотрим текущие ветки и выявим отличия (рис. [-@fig:077])

![Просмотрим текущие ветки и выявим отличия](image/77.png){ #fig:077 width=70% }

## Слияние

1. Слияние веток (рис. [-@fig:078])

![Слияние веток](image/78.png){ #fig:078 width=70% }

## Создание конфликта

1. Вернёмся в master и создадим конфликт (рис. [-@fig:079]) (рис. [-@fig:080]) (рис. [-@fig:081])

![Вернёмся в master](image/79.png){ #fig:079 width=70% }

![Создадим конфликт](image/80.png){ #fig:080 width=70% }

![Сделаем коммит](image/81.png){ #fig:081 width=70% }

2. Просмотр веток (рис. [-@fig:082])

![Просмотр веток](image/82.png){ #fig:082 width=70% }

## Разрешение конфликтов

1. Слияние master с веткой style (рис. [-@fig:083])

![Слияние веток (неудачно)](image/83.png){ #fig:083 width=70% }

2. Внесём изменения в lib/hello.html (рис. [-@fig:084])

![Внесение изменений в lib/hello.html](image/84.png){ #fig:084 width=70% }

3. Сделаем коммит решения конфликта (рис. [-@fig:085])

![Коммит решения конфликта](image/85.png){ #fig:085 width=70% }

## Сброс ветки style

1. Найдём последний коммит перед слиянием (рис. [-@fig:086])

![Найдём последний коммит перед слиянием](image/86.png){ #fig:086 width=70% }

2. Сбросим ветку style к коммиту Updated index.html (рис. [-@fig:087])

![Сброс ветки style](image/87.png){ #fig:087 width=70% }

3. Проверим ветку (рис. [-@fig:088])

![Проверим ветку](image/88.png){ #fig:088 width=70% }

## Сброс ветки master

1. Сброс ветки master (рис. [-@fig:089])

![Сброс ветки master](image/89.png){ #fig:089 width=70% }

## Перебазирование

1. Перебазирование (рис. [-@fig:090])

![Перебазирование](image/90.png){ #fig:090 width=70% }

## Слияние в ветку master

1. Слияние в ветку master (рис. [-@fig:091])

![Слияние в ветку master](image/91.png){ #fig:091 width=70% }

2. Просмотрим логи (рис. [-@fig:092])

![Просмотрим логи](image/92.png){ #fig:092 width=70% }

Теперь ветки style и master идентичны.

## Клонирование репозиториев

1. Перейдём в рабочий каталог (рис. [-@fig:093])

![Перейдём в рабочий каталог](image/93.png){ #fig:093 width=70% }

2. Создадим клон репозитория hello (рис. [-@fig:094])

![Создадим клон репозитория hello](image/94.png){ #fig:094 width=70% }

## Просмотр клонированного репозитория

1. Взглянем на клонированный репозиторий (рис. [-@fig:095])

![Взглянем на клонированный репозиторий](image/95.png){ #fig:095 width=70% }

2. Просмотрим историю репозитория (рис. [-@fig:096])

![Просмотрим историю репозитория](image/96.png){ #fig:096 width=70% }

Вы видим ветку master (HEAD) в списке истории. Мы также ветку ветки с именами:origin/master, origin/style и origin/HEAD.

## Что такое origin?

1. Выполним git remote (рис. [-@fig:097])

![git remote](image/97.png){ #fig:097 width=70% }

2. Получить более подробную информацию об имени по умолчанию (рис. [-@fig:098])

![Более подробная информация об имени по умолчанию](image/98.png){ #fig:098 width=70% }

## Удаленные ветки

1. Посмотрим на ветки, доступные в нашем клонированном репозитории (рис. [-@fig:099])

![Доступные ветки](image/99.png){ #fig:099 width=70% }

2. Список удаленных веток (рис. [-@fig:100])

![Удалённые ветки](image/100.png){ #fig:100 width=70% }

## Изменение оригинального репозитория

1. Внесём изменения в оригинальный репозиторий hello (рис. [-@fig:101]) (рис. [-@fig:102])

![Изменения в файл README](image/101.png){ #fig:101 width=70% }

![Изменения в файл оригинальный репозиторий](image/102.png){ #fig:102 width=70% }

2. Извлечение изменений (рис. [-@fig:103])

![Извлечение изменений](image/103.png){ #fig:103 width=70% }

3. Проверим README.md (рис. [-@fig:104])

![Проверка README.md](image/104.png){ #fig:104 width=70% }

Клонированный файл README.md не изменился.

## Слияние извлеченных изменений

1. Сольём извлеченные изменения в локальную ветку master (рис. [-@fig:105])

![Слив извлеченных изменений](image/105.png){ #fig:105 width=70% }

2. Еще раз проверим файл README.md (рис. [-@fig:106])

![Проверка README.md №2](image/106.png){ #fig:106 width=70% }

## Добавление ветки наблюдения

1. Добавим локальную ветку, которая отслеживает удаленную ветку (рис. [-@fig:107])

![Добавление локальной ветки, отслеживающей удалённую ветку](image/107.png){ #fig:107 width=70% }

## Чистые репозитории

1. Создадим чистый репозиторий (рис. [-@fig:108])

![Создание чистого репозитория](image/108.png){ #fig:108 width=70% }

## Добавление удаленного репозитория

1. Добавим репозиторий hello.git к оригинальному репозиторию (рис. [-@fig:109])

![Добавление удаленного репозитория](image/109.png){ #fig:109 width=70% }

## Отправка изменений

1. Отредактируем файл README.md (рис. [-@fig:110])

![Отредактированный файл README.md](image/110.png){ #fig:110 width=70% }

2. Сделаем коммит и отправим изменения в общий репозиторий (рис. [-@fig:111])

![Коммит и топравка изменений](image/111.png){ #fig:111 width=70% }

## Извлечение общих изменений

1. Извлечём изменения из общего репозитория (рис. [-@fig:112])

![Извлечение изменений из общего репозитория](image/112.png){ #fig:112 width=70% }

# Выводы

В ходе данной лабораторной работы я ознакомился с системой управления версиями git.